---
title: 빙글 개발 문서
author: 0chil
tableOfContents: false
hero:
  tagline: | 
    빙글 개발 문서입니다
    <br>
    주석으로 표현할 수 없는 내용들을 문서화합니다
  image:
    file: ../../assets/vingle.png
  actions:
    - text: 링크를 사용할 수 있습니다
      link: /
      icon: external

---

import { Card, CardGrid } from '@astrojs/starlight/components';

## 시작

#### Repository 변수 설정
- `TARGET_REPOSITORY`: 문서화 대상 Repository 이름을 지정합니다.
  - 해당 레포지터리의 `/docs` 폴더가 문서화되어 공개됩니다.
- `DOCUMENT_URL`: 문서의 기본 주소를 적습니다. 
  - 없으면 기본값 `docs.vingle.kr`이 사용됩니다.
  - URL 형태 (`https://example.com`) 이어야 합니다.
- `DOCUMENT_TITLE`: 문서 상단에 표시되는 제목을 적습니다.
  - 없으면 기본값 `vingle-backend dev docs`가 사용됩니다.

#### 변경 전파 설정

다음 Github Actions workflow를 복사 후, 하단의 `{DOCUMENT_REPOSITORY}`를 문서 위치로 수정합니다.  
실행 트리거(on)은 자유롭게 수정할 수 있습니다.

```yaml
name: Document changed trigger

on:
  workflow_dispatch:
  push:
    branches:
      - dev

jobs:
  trigger:
    runs-on: ubuntu-latest
    steps:
      - name: Get Github Token
        uses: actions/create-github-app-token@v2
        id: app_token
        with:
          app-id: ${{ secrets.SUBMODULE_APP_ID }}
          private-key: ${{ secrets.SUBMODULE_APP_PEM }}
          owner: ${{ github.repository_owner }}

      - name: Checkout
        uses: actions/checkout@v4
        with:
          fetch-depth: 2

      - name: Check for changes in docs/
        id: docs_changes
        run: |
          if git diff --quiet HEAD^ HEAD -- docs/; then
            echo "No changes in docs/."
            echo "changed=false" >> $GITHUB_ENV
          else
            echo "Changes detected in docs/."
            echo "changed=true" >> $GITHUB_ENV
          fi

      - name: Dispatch document changed event
        if: env.changed == 'true'
        run: |
          curl -X POST -H "Accept: application/vnd.github.v3+json" \
          -H "Authorization: Bearer ${{ steps.app_token.outputs.token }}" \
          https://api.github.com/repos/cosmos-official/{DOCUMENT_REPOSITORY}/dispatches \
          -d '{"event_type": "document-changed"}'
```


### 문서 작성
타겟 레포지터리의 `/docs`에 문서를 작성합니다.
- `/docs/index.mdx`를 작성하는 경우, 배포 시 이 페이지가 오버라이드 됩니다.

## 문서 관리

<CardGrid stagger>
	<Card title="문서 작성" icon="add-document">
    [대상 Repository](/)에 마크다운 문서를 작성합니다<br/>
    작성된 문서는 자동으로 동기화됩니다
	</Card>
	<Card title="문서 수정" icon="pencil">
    [대상 Repository](/)에서 문서를 수정합니다<br/>
		수정된 문서는 자동으로 동기화됩니다
	</Card>
	<Card title="검색" icon="magnifier">
		검색 기능을 활용해 궁금한 내용을 검색할 수 있습니다
	</Card>
</CardGrid>

